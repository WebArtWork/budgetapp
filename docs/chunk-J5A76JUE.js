import{g as C}from"./chunk-YLIOPTIU.js";import"./chunk-N7ZYOYDV.js";import{$a as y,Aa as g,B as n,G as p,Ha as v,L as b,Na as _,Pa as c,Ta as w,eb as j,j as l,k as d,l as m,m as f,n as u}from"./chunk-7FDTYP7V.js";var I=(()=>{let t=class t{new(){return{_id:"",name:"",description:""}}constructor(e,i){this.mongo=e,this.alert=i,this.budgetshares=[],this._budgetshares={},this.budgetshares=e.get("budgetshare",{},(s,o)=>{this._budgetshares=o})}create(e=this.new(),i=o=>{},s="budgetshare has been created."){e._id?this.save(e):this.mongo.create("budgetshare",e,o=>{i(o),this.alert.show({text:s})})}doc(e){return this._budgetshares[e]||(this._budgetshares[e]=this.mongo.fetch("budgetshare",{query:{_id:e}})),this._budgetshares[e]}update(e,i=o=>{},s="budgetshare has been updated."){this.mongo.afterWhile(e,()=>{this.save(e,i,s)})}save(e,i=o=>{},s="budgetshare has been updated."){this.mongo.update("budgetshare",e,()=>{s&&this.alert.show({text:s,unique:e})})}delete(e,i=o=>{},s="budgetshare has been deleted."){this.mongo.delete("budgetshare",e,()=>{s&&this.alert.show({text:s})})}};t.\u0275fac=function(i){return new(i||t)(m(_),m(c))},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var S=(()=>{let t=class t{get rows(){return this._sb.budgetshares}constructor(e,i,s,o,T){this._sb=e,this._translate=i,this._alert=s,this._form=o,this._core=T,this.columns=["name","description"],this.form=this._form.getForm("shares",{formId:"shares",title:"Shares",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill shares title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill shares description"},{name:"Label",value:"Description"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(a,h)=>{this._sb.create(a),h()}})},update:a=>{this._form.modal(this.form,[],a).then(h=>{this._core.copy(h,a),this._sb.save(a)})},delete:a=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this cservice?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sb.delete(a)}}]})}}}};t.\u0275fac=function(i){return new(i||t)(n(I),n(w),n(c),n(y),n(v))},t.\u0275cmp=f({type:t,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Shares",3,"columns","config","rows"]],template:function(i,s){i&1&&b(0,"wtable",0),i&2&&p("columns",s.columns)("config",s.config)("rows",s.rows)},dependencies:[j]});let r=t;return r})();var x=[{path:"",component:S}],W=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=d({imports:[g.forChild(x),C]});let r=t;return r})();export{W as SharesModule};
