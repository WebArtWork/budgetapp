import{g as j}from"./chunk-YLIOPTIU.js";import"./chunk-N7ZYOYDV.js";import{$a as w,Aa as g,B as n,G as p,Ha as v,L as b,Na as y,Pa as c,Ta as _,eb as C,j as d,k as u,l as m,m as h,n as f}from"./chunk-7FDTYP7V.js";var I=(()=>{let t=class t{new(){return{_id:"",name:"",description:""}}constructor(e,i){this.mongo=e,this.alert=i,this.budgets=[],this._budgets={},this.budgets=e.get("budget",{},(r,s)=>{this._budgets=s})}create(e=this.new(),i=s=>{},r="budget has been created."){e._id?this.save(e):this.mongo.create("budget",e,s=>{i(s),this.alert.show({text:r})})}doc(e){return this._budgets[e]||(this._budgets[e]=this.mongo.fetch("budget",{query:{_id:e}})),this._budgets[e]}update(e,i=s=>{},r="budget has been updated."){this.mongo.afterWhile(e,()=>{this.save(e,i,r)})}save(e,i=s=>{},r="budget has been updated."){this.mongo.update("budget",e,()=>{r&&this.alert.show({text:r,unique:e})})}delete(e,i=s=>{},r="budget has been deleted."){this.mongo.delete("budget",e,()=>{r&&this.alert.show({text:r})})}};t.\u0275fac=function(i){return new(i||t)(m(y),m(c))},t.\u0275prov=d({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var T=(()=>{let t=class t{get rows(){return this._sb.budgets}constructor(e,i,r,s,S){this._sb=e,this._translate=i,this._alert=r,this._form=s,this._core=S,this.columns=["name","amount","currency"],this.form=this._form.getForm("budgets",{formId:"budgets",title:"Budgets",components:[{name:"Number",key:"amount",fields:[{name:"Placeholder",value:"fill budgets amount"},{name:"Label",value:"Amount"}]},{name:"Text",key:"currency",fields:[{name:"Placeholder",value:"fill budgets currency"},{name:"Label",value:"Currency"}]},{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill budgets title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill budgets description"},{name:"Label",value:"Description"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(a,l)=>{this._sb.create(a),l()}})},update:a=>{this._form.modal(this.form,[],a).then(l=>{this._core.copy(l,a),this._sb.save(a)})},delete:a=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this cservice?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._sb.delete(a)}}]})}}}};t.\u0275fac=function(i){return new(i||t)(n(I),n(_),n(c),n(w),n(v))},t.\u0275cmp=h({type:t,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Budgets",3,"columns","config","rows"]],template:function(i,r){i&1&&b(0,"wtable",0),i&2&&p("columns",r.columns)("config",r.config)("rows",r.rows)},dependencies:[C]});let o=t;return o})();var M=[{path:"",component:T}],R=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=f({type:t}),t.\u0275inj=u({imports:[g.forChild(M),j]});let o=t;return o})();export{R as BudgetsModule};
